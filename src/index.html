<!DOCTYPE html>
<html lang="id-ID">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PPh 21</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+128+Text&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/public/styles.css" />
        {{#development}}
        <script>
            // connect to websocket to listen for filechanges when hotreloading
            const socket = new WebSocket('ws://localhost:3000/__hmr');
            socket.addEventListener('message', async function (event) {
                if (event.data === 'reload') {
                    window.location.reload();
                }
            });
        </script>
        {{/development}}
        <script src="/public/client.js" defer></script>
    </head>
    <body>
        <div class="title__container">
            <h1 class="title">PPh 21 + Tarif Efektif Rata-Rata (TER)</h1>
        </div>
        <div class="app">
            <form class="form" action="/" method="post">
                <div class="form__input-container">
                    <label class="form__input">
                        <span>Gaji Bulanan</span>
                        <input
                                id="salary"
                                type="number"
                                name="salary"
                                min="0"
                                placeholder="Rp. 0"
                        >
                    </label>
                    <label class="form__input">
                        <span>Bonus tahunan (THR, Jasa produksi)</span>
                        <input
                                id="bonus"
                                type="number"
                                name="bonus"
                                min="0"
                                placeholder="Rp. 0"
                        >
                    </label>
                    <label class="form__input">
                        <span>Status Tanggungan</span>
                        <select class="form__select" name="status" id="status">
                            <option value="TK/0">Tidak Kawin | 0 Tanggungan</option>
                            <option value="TK/1">Tidak Kawin | 1 Tanggungan</option>
                            <option value="TK/2">Tidak Kawin | 2 Tanggungan</option>
                            <option value="TK/2">Tidak Kawin | 3 Tanggungan</option>
                            <option value="K/0">Kawin | 0 Tanggungan</option>
                            <option value="K/1">Kawin | 1 Tanggungan</option>
                            <option value="K/2">Kawin | 2 Tanggungan</option>
                            <option value="K/3">Kawin | 3 Tanggungan</option>
                        </select>
                    </label>
                </div>
            </form>
            <table class="table">
                <thead>
                    <tr>
                        <th>Komponen</th>
                        <th>Nominal</th>
                    </tr>
                </thead>
                <tr>
                    <td>Gaji Bulanan</td>
                    <td id="salary_value">{{salary}}</td>
                </tr>
                <tr>
                    <td>Bonus</td>
                    <td id="bonus_value">{{bonus}}</td>
                </tr>
                <tr>
                    <td>BPJSTK JKK - Perusahaan (0,24%)</td>
                    <td id="employerInsuranceContributionJkk_value">{{employerInsuranceContributionJkk}}</td>
                </tr>
                <tr>
                    <td>BPJSTK JKM - Perusahaan (0,3%)</td>
                    <td id="employerInsuranceContributionJkm_value">{{employerInsuranceContributionJkm}}</td>
                </tr>
                <tr>
                    <td>BPJSKES - Perusahaan (4%, maks. Rp480.000)</td>
                    <td id="employerInsuranceContributionBpjskes_value">{{employerInsuranceContributionBpjskes}}</td>
                </tr>
                <tr>
                    <td>BPJSTK JHT - Karyawan (2%)</td>
                    <td id="employeeInsuranceContributionJht_value">{{employeeInsuranceContributionJht}}</td>
                </tr>
                <tr>
                    <td>BPJSTK JP - Karyawan (1%, maks. Rp95.596)</td>
                    <td id="employeeInsuranceContributionJp_value">{{employeeInsuranceContributionJp}}</td>
                </tr>
                <tr>
                    <td>Biaya Jabatan</td>
                    <td id="occupationalExpense_value">{{occupationalExpense}}</td>
                </tr>
                <tr>
                    <td>Penghasilan Neto Bulanan</td>
                    <td id="netMonthlyIncome_value">{{netMonthlyIncome}}</td>
                </tr>
                <tr>
                    <td>Penghasilan Neto Tahunan</td>
                    <td id="netYearlyIncome_value">{{netYearlyIncome}}</td>
                </tr>
                <tr>
                    <td>Penghasilan Tidak Kena Pajak</td>
                    <td id="nonTaxableIncome_value">{{nonTaxableIncome}}</td>
                </tr>
                <tr>
                    <td>Penghasilan Kena Pajak</td>
                    <td id="taxableIncome_value">{{taxableIncome}}</td>
                </tr>
                <tr>
                    <td>Pajak Bulanan</td>
                    <td id="regularMonthTax_value">{{regularMonthTax}}</td>
                </tr>
                <tr>
                    <td>Pajak di Bulan Bonus</td>
                    <td id="bonusMonthTax_value">{{bonusMonthTax}}</td>
                </tr>
                <tr>
                    <td>Pajak di Bulan Desember</td>
                    <td id="decemberMonthTax_value">{{decemberMonthTax}}</td>
                </tr>
                <tr>
                    <td>Total Pajak Setahun</td>
                    <td id="totalTax_value">{{totalTax}}</td>
                </tr>
            </table>
        </div>
    </body>
</html>
